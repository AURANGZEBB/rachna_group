<odoo>
<!--	__________________________________________________________________________________________________________- -->
		<record id="ta_sale_policy_tree" model="ir.ui.view">
	    <field name="name">ta.sale.policy.tree</field>
	    <field name="model">sale.policy</field>
	    <field name="arch" type="xml">
			<tree>
				<field name="name"/>
				<field name="description"/>
				<field name="policy_type"/>
				<field name="policy_total_advance"/>
				<field name="product_ids"/>
				<field name="exclude_policies"/>
			</tree>
        </field>
    </record>

	<record id="ta_sale_policy_form" model="ir.ui.view">
	    <field name="name">ta.sale.policy.form</field>
	    <field name="model">sale.policy</field>
	    <field name="arch" type="xml">
			<form>
				<header>
                    <button name="action_confirm" string="Confirm" type="object" class="btn-primary" attrs="{'invisible': [('state', 'not in', 'draft')]}"/>
                    <button name="get_policy_advance" string="Get Policy Advance Balance" type="object" class="btn-primary" attrs="{'invisible': [('state', 'not in', ['confirm'])]}"/>
                    <button name="clear_product_ids" string="Clear Product IDS" type="object" class="btn-primary" attrs="{'invisible': [('state', 'not in', 'draft')]}"/>
                    <button name="action_reset" string="Reset" type="object" attrs="{'invisible': [('state', 'not in', ['confirm', 'close'])]}"/>
                    <button name="action_cancel" string="Cancel" type="object" attrs="{'invisible': [('state', 'not in', 'draft')]}"/>
                    <button name="action_close" string="Cancel" type="object" attrs="{'invisible': [('state', 'not in', 'confirm')]}"/>
<!--                    <button name="action_select_all_products" string="Select All Products" type="object" attrs="{'invisible': [('state', 'not in', 'draft')]}"/>-->
<!--                    <button name="action_clear_products" string="Clear All Products" type="object" attrs="{'invisible': [('state', 'not in', 'draft')]}"/>-->
                    <field name="state" widget="statusbar" statusbar_visible="draft,confirm" readonly="1"/>
                </header>
                <sheet>
					<group>
						<group>
							<field name="name"/>
							<field name="description"/>
							<field name="company_id" readonly="1"/>
							<field name="calc_type" invisible="1"/>
							<field name="slab_applicable"/>
							<field name="applicable_date_from" attrs="{'invisible': [('calc_type', 'not in', 'psi')], 'required': [('calc_type', 'in', 'psi')] }"/>
							<field name="applicable_date_to" attrs="{'invisible': [('calc_type', 'not in', 'psi')], 'required': [('calc_type', 'in', 'psi')]}"/>
						</group>
						<group>
							<field name="policy_type"/>
							<field name="policy_total_advance"/>
							<field name="product_ids">
								<tree>
									<field name="name"/>
									<field name="default_code"/>
								</tree>
							</field>
							<field name="exclude_policies">
								<tree>
									<field name="description"/>
								</tree>
							</field>
						</group>
					</group>
					<label for="policy_line_ids"/>
					<field name="policy_line_ids">
						<tree editable="bottom">
							<field name="name"/>
							<field name="description"/>
							<field name="calc_type" optional="hide"/>
							<field name="applicable_date_from" invisible="1"/>
							<field name="applicable_date_to" invisible="1"/>
							<field name="date_from" attrs="{'column_invisible': [('parent.calc_type', 'not in', 'invoice')], 'required': [('parent.calc_type', 'in', 'invoice')]}"/>
							<field name="date_to" attrs="{'column_invisible': [('parent.calc_type', 'not in', 'invoice')], 'required': [('parent.calc_type', 'in', 'invoice')]}"/>
							<field name="sale_slab_from" attrs="{'column_invisible': [('parent.slab_applicable', '=', True)], 'required': [('parent.slab_applicable', '=', True)]}"/>
							<field name="sale_slab_to" attrs="{'column_invisible': [('parent.slab_applicable', '=', True)], 'required': [('parent.slab_applicable', '=', True)]}"/>
							<field name="benefit_id"/>
							<field name="policy_id" invisible="1"/>
							<field name="total_advance_against_line" invisible="1"/>
							<field name="policy_line_balance" readonly="1"/>
							<field name="quantity"/>
							<field name="value"/>
							<field name="total_value"/>
							<field name="parent_state" invisible="1"/>
						</tree>
					</field>
				</sheet>
			</form>
        </field>
    </record>

	<record id="action_ta_sale_policy" model="ir.actions.act_window">
	   <field name="name">Policy</field>
	   <field name="res_model">sale.policy</field>
	   <field name="view_mode">tree,form</field>
	   <field name="context">{}</field>
		<field name="domain">[]</field>
<!--	   <field name="domain">[('transaction_with', '=', 'vendor')]</field>-->
<!--	   <field name="view_id" ref="customer_details_tree"/>-->
	   <field name="help" type="html">
		   <p class="o_view_nocontent_smiling_face">
			   Define Your Policy Here!
		   </p>
	   </field>
	</record>

	<menuitem id="menu_ta_sale_policy"
	 name="Policy"
	 parent="sale.menu_sale_config"
	 action="action_ta_sale_policy"
	 sequence="102"/>
</odoo>